<div class="qd-center-page">
  {{! é¡¶éƒ¨æ ‡é¢˜æ  }}
  <div class="center-hero">
    {{! è£…é¥°èƒŒæ™¯ }}
    <div class="hero-bg-pattern"></div>
    
    <div class="hero-main">
      <div class="hero-content">
        <div class="hero-icon-wrapper">
          <div class="hero-icon-bg"></div>
          <i class="fa fa-palette"></i>
        </div>
        
        <div class="hero-text">
          <h1 class="hero-title">
            <span class="title-main">ä½œå“å¢™</span>
            <span class="title-badge">Creator Hub</span>
          </h1>
          <div class="hero-features">
            <span class="feature-item">
              <i class="fa fa-fire"></i> çƒ­åº¦æ¦œå•
            </span>
            <span class="feature-item">
              <i class="fa fa-gift"></i> æ‰“èµæ¿€åŠ±
            </span>
            <span class="feature-item">
              <i class="fa fa-heart"></i> ç¤¾åŒºè®¤å¯
            </span>
          </div>
        </div>
      </div>
      
      <div class="hero-actions">
        {{#if this.currentUser}}
          {{#if this.isCreator}}
            <button class="btn-creator" {{on "click" this.goToMake}}>
              <i class="fa fa-upload"></i> 
              <span>æˆ‘çš„åˆ›ä½œ</span>
            </button>
          {{else}}
            <button class="btn-apply" {{on "click" this.goToApply}}>
              <i class="fa fa-user-plus"></i>
              <span>ç”³è¯·æˆä¸ºåˆ›ä½œè€…</span>
            </button>
          {{/if}}
          {{#if this.currentUser.admin}}
            <button class="btn-admin" {{on "click" this.goToAdmin}}>
              <i class="fa fa-cog"></i>
              <span>ç®¡ç†åå°</span>
            </button>
          {{/if}}
        {{/if}}
      </div>
    </div>
    
    {{! è£…é¥°å…ƒç´  }}
    <div class="hero-decorations">
      <div class="decoration-circle decoration-1"></div>
      <div class="decoration-circle decoration-2"></div>
      <div class="decoration-circle decoration-3"></div>
    </div>
  </div>

  {{! ä½œå“å¢™ }}
  <div class="works-container">
    {{#if this.works.length}}
      <div class="works-grid">
        {{#each this.works as |work|}}
          <div class="work-card">
            {{! ä½œå“å›¾ç‰‡ }}
            <div class="work-image" {{on "click" (fn this.goToPost work)}}>
              <img src={{work.image_url}} alt={{work.title}} loading="lazy" />
              <div class="work-overlay">
                <i class="fa fa-external-link-alt"></i>
                <span>æŸ¥çœ‹è¯¦æƒ…</span>
              </div>
            </div>
            
            {{! ä½œå“ä¿¡æ¯ }}
            <div class="work-info">
              {{#if work.title}}
                <h3 class="work-title">{{work.title}}</h3>
              {{/if}}
              
              <div class="work-meta">
                <span class="work-author">
                  <i class="fa fa-user"></i> {{work.username}}
                </span>
                <span class="work-date">
                  <i class="fa fa-clock"></i> {{format-date work.created_at}}
                </span>
              </div>
              
              {{! ç»Ÿè®¡æ•°æ® }}
              <div class="work-stats">
                <div class="stat-item">
                  <i class="fa fa-heart"></i>
                  <span>{{work.likes_count}}</span>
                </div>
                <div class="stat-item">
                  <i class="fa fa-eye"></i>
                  <span>{{work.clicks_count}}</span>
                </div>
                <div class="stat-item heat-stat">
                  <i class="fa fa-fire" style="color: {{work.heatColor}}"></i>
                  <span>{{work.heat_score}}</span>
                </div>
                <div class="stat-item donation-stat">
                  <i class="fa fa-coins" style="color: #FFA940;"></i>
                  <span>{{if work.jifen_received work.jifen_received 0}}</span>
                </div>
                <div class="stat-item donation-stat">
                  <i class="fa fa-gem" style="color: #722ED1;"></i>
                  <span>{{if work.paid_coin_received work.paid_coin_received 0}}</span>
                </div>
              </div>
              
              {{! æ“ä½œæŒ‰é’® }}
              <div class="work-actions">
                <button 
                  class="btn-like {{if work.liked_by_current_user 'liked'}}"
                  {{on "click" (fn this.likeWork work)}}
                >
                  <i class="fa {{if work.liked_by_current_user 'fa-heart' 'fa-heart-o'}}"></i>
                  {{#if work.liked_by_current_user}}å·²ç‚¹èµ{{else}}ç‚¹èµ{{/if}}
                </button>
                
                {{! åªæœ‰éä½œè€…æ‰èƒ½æ‰“èµ }}
                {{#unless (eq work.user_id this.currentUser.id)}}
                  <button class="btn-donate" {{on "click" (fn this.openDonateModal work)}}>
                    <i class="fa fa-gift"></i> æ‰“èµ
                  </button>
                {{/unless}}
              </div>
            </div>
          </div>
        {{/each}}
      </div>
    {{else}}
      <div class="no-works">
        <i class="fa fa-images"></i>
        <p>æš‚æ— ä½œå“</p>
        <small>å¿«æ¥æˆä¸ºç¬¬ä¸€ä¸ªä¸Šä¼ ä½œå“çš„åˆ›ä½œè€…å§ï¼</small>
      </div>
    {{/if}}
  </div>

  {{! æ‰“èµå¼¹çª— }}
  {{#if this.showDonateModal}}
    <div class="modal-backdrop" {{on "click" this.closeDonateModal}}>
      <div class="donate-modal" {{on "click" this.stopPropagation}}>
        <div class="modal-header">
          <h3><i class="fa fa-gift"></i> æ‰“èµä½œå“</h3>
          <button class="btn-close" {{on "click" this.closeDonateModal}}>
            <i class="fa fa-times"></i>
          </button>
        </div>
        
        <div class="modal-body">
          {{#if this.selectedWork}}
            <div class="donate-work-info">
              <img src={{this.selectedWork.image_url}} alt="ä½œå“" />
              <div>
                {{#if this.selectedWork.title}}
                  <strong>{{this.selectedWork.title}}</strong>
                {{/if}}
                <p>ä½œè€…ï¼š{{this.selectedWork.username}}</p>
              </div>
            </div>
            
            {{! é€‰æ‹©è´§å¸ç±»å‹ }}
            <div class="currency-selector">
              <label>é€‰æ‹©è´§å¸ç±»å‹</label>
              <div class="currency-options">
                <button 
                  class="currency-option {{if (eq this.selectedCurrency 'jifen') 'active'}}"
                  {{on "click" (fn this.selectCurrency "jifen")}}
                >
                  <i class="fa fa-coins"></i>
                  {{this.jifenName}}
                </button>
                <button 
                  class="currency-option {{if (eq this.selectedCurrency 'paid_coin') 'active'}}"
                  {{on "click" (fn this.selectCurrency "paid_coin")}}
                >
                  <i class="fa fa-gem"></i>
                  {{this.paidCoinName}}
                </button>
              </div>
            </div>
            
            {{! è¾“å…¥é‡‘é¢ }}
            <div class="amount-input">
              <label>æ‰“èµé‡‘é¢</label>
              <input 
                type="number" 
                min="1"
                {{on "input" this.updateDonateAmount}}
                value={{this.donateAmount}}
                placeholder="è¯·è¾“å…¥é‡‘é¢"
              />
            </div>
            
            <div class="donate-tip">
              <i class="fa fa-info-circle"></i>
              <span>æ‰“èµå°†ç›´æ¥æ”¯æŒåˆ›ä½œè€…ï¼Œé¼“åŠ±æ›´å¤šä¼˜è´¨å†…å®¹</span>
            </div>
          {{/if}}
        </div>
        
        <div class="modal-footer">
          <button class="btn-cancel" {{on "click" this.closeDonateModal}}>
            å–æ¶ˆ
          </button>
          <button 
            class="btn-confirm" 
            {{on "click" this.confirmDonate}}
            disabled={{or this.donating (eq this.donateAmount 0)}}
          >
            {{#if this.donating}}
              <i class="fa fa-spinner fa-spin"></i> å¤„ç†ä¸­...
            {{else}}
              <i class="fa fa-check"></i> ç¡®è®¤æ‰“èµ
            {{/if}}
          </button>
        </div>
      </div>
    </div>
  {{/if}}

  {{! åº†ç¥æ¨¡æ€æ¡† }}
  {{#if this.showCelebrationModal}}
    <div class="modal-backdrop" {{on "click" this.closeCelebrationModal}}>
      <div class="celebration-modal" {{on "click" this.stopPropagation}}>
        <div class="celebration-content">
          {{! æˆåŠŸå›¾æ ‡ }}
          <div class="celebration-icon">
            <i class="fa fa-check-circle"></i>
          </div>
          
          {{! æ„Ÿè°¢æ ‡é¢˜ }}
          <h2 class="celebration-title">{{this.celebrationData.message}}</h2>
          
          {{! æ„Ÿè°¢ä¿¡æ¯ }}
          <p class="celebration-message">æ‚¨çš„æ”¯æŒæ˜¯åˆ›ä½œè€…æœ€å¤§çš„åŠ¨åŠ›ï¼</p>
          
          {{! æ‰“èµè¯¦æƒ… }}
          <div class="donation-details">
            <div class="detail-row">
              <span class="label">æ‰“èµé‡‘é¢</span>
              <span class="value amount">{{this.celebrationData.donation.amount}} {{this.celebrationData.donation.currency_name}}</span>
            </div>
            <div class="detail-row">
              <span class="label">ä½œå“</span>
              <span class="value">{{this.celebrationData.donation.work_title}}</span>
            </div>
            <div class="detail-row">
              <span class="label">åˆ›ä½œè€…</span>
              <span class="value">@{{this.celebrationData.donation.creator_username}}</span>
            </div>
          </div>
          
          {{! å…³é—­æŒ‰é’® }}
          <button class="btn-celebration-close" {{on "click" this.closeCelebrationModal}}>
            <i class="fa fa-heart"></i> ç»§ç»­æµè§ˆ
          </button>
        </div>
        
        {{! é£˜è½çš„çˆ±å¿ƒ }}
        <div class="celebration-confetti">
          <span>â¤ï¸</span>
          <span>ğŸ’š</span>
          <span>ğŸ’™</span>
          <span>ğŸ’›</span>
          <span>ğŸ’œ</span>
        </div>
      </div>
    </div>
  {{/if}}
</div>
